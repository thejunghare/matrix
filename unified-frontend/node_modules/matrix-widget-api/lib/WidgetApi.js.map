{"version":3,"file":"WidgetApi.js","names":["_events","require","_WidgetApiDirection","_ApiVersion","_PostmessageTransport","_WidgetApiAction","_GetOpenIDAction","_WidgetType","_ModalWidgetActions","_WidgetEventCapability","_Symbols","_UpdateDelayedEventAction","_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","key","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","_typeof","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","_catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","target","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","_unsupportedIterableToArray","F","s","n","e","_e","f","normalCompletion","didErr","step","_e2","minLen","_arrayLikeToArray","toString","from","test","arr","len","arr2","_toPropertyKey","_defineProperties","props","descriptor","_createClass","Constructor","protoProps","staticProps","_toPrimitive","String","input","hint","prim","toPrimitive","res","Number","_classCallCheck","instance","_inherits","subClass","superClass","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","Map","_isNativeFunction","has","get","set","Wrapper","_construct","Parent","bind","a","Function","sham","Proxy","Boolean","valueOf","indexOf","p","_awaitAsyncGenerator","_OverloadYield","_wrapAsyncGenerator","_AsyncGenerator","front","back","resume","overloaded","v","nextKey","k","settle","request","kind","WidgetApiResponseError","_Error","_super","message","data","_this2","WidgetApi","_EventEmitter","_super2","_this3","widgetId","clientOrigin","globalThis","parent","transport","PostmessageTransport","WidgetApiDirection","FromWidget","targetOrigin","on","handleMessage","hasCapability","capability","approvedCapabilities","includes","requestedCapabilities","requestCapability","capabilitiesFinished","supportsMSC2974Renegotiate","requestCapabilities","capabilities","_iterator","_step","cap","requestCapabilityForRoomTimeline","roomId","concat","requestCapabilityToSendState","eventType","stateKey","WidgetEventCapability","forStateEvent","EventDirection","Send","raw","requestCapabilityToReceiveState","Receive","requestCapabilityToSendToDevice","forToDeviceEvent","requestCapabilityToReceiveToDevice","requestCapabilityToSendEvent","forRoomEvent","requestCapabilityToReceiveEvent","requestCapabilityToSendMessage","msgtype","forRoomMessageEvent","requestCapabilityToReceiveMessage","requestCapabilityToReceiveRoomAccountData","forRoomAccountData","requestOpenIDConnectToken","_this4","sendComplete","WidgetApiFromWidgetAction","GetOpenIDCredentials","response","rdata","OpenIDRequestState","Allowed","Blocked","PendingUserConfirmation","handlerFn","ev","preventDefault","detail","original_request_id","requestId","reply","off","WidgetApiToWidgetAction","OpenIDCredentials","updateRequestedCapabilities","send","MSC2974RenegotiateCapabilities","sendContentLoaded","ContentLoaded","sendSticker","sticker","SendSticker","setAlwaysOnScreen","UpdateAlwaysOnScreen","success","openModalWidget","url","buttons","MatrixWidgetType","Custom","OpenModalWidget","closeModalWidget","CloseModalWidget","sendRoomEvent","content","delay","parentDelayId","stickyDurationMs","sendEvent","sendStateEvent","SendEvent","state_key","room_id","parent_delay_id","sticky_duration_ms","cancelScheduledDelayedEvent","delayId","MSC4157UpdateDelayedEvent","delay_id","action","UpdateDelayedEventAction","Cancel","restartScheduledDelayedEvent","Restart","sendScheduledDelayedEvent","sendToDevice","encrypted","contentMap","SendToDevice","messages","readRoomAccountData","roomIds","Symbols","AnyRoom","room_ids","BeeperReadRoomAccountData","r","events","readRoomEvents","limit","since","MSC2876ReadEvents","_readEventRelations","_callee","eventId","relationType","to","direction","versions","_callee$","_context","getClientVersions","UnstableApiVersion","MSC3869","event_id","rel_type","event_type","MSC3869ReadRelations","readEventRelations","_x","_x2","_x3","_x4","_x5","_x6","_x7","_x8","readStateEvents","setModalButtonEnabled","buttonId","isEnabled","BuiltInModalButtonID","Close","SetModalButtonEnabled","button","enabled","navigateTo","uri","startsWith","MSC2931Navigate","getTurnServers","_this","_callee3","setTurnServer","onUpdateTurnServers","_callee3$","_context3","_ref","_callee2","_callee2$","_context2","_x9","UpdateTurnServers","turnServerWatchers","WatchTurnServers","t0","UnwatchTurnServers","_searchUserDirectory","_callee4","searchTerm","_callee4$","_context4","MSC3973","search_term","MSC3973UserDirectorySearch","searchUserDirectory","_x10","_x11","_getMediaConfig","_callee5","_callee5$","_context5","MSC4039","MSC4039GetMediaConfigAction","getMediaConfig","_uploadFile","_callee6","file","_callee6$","_context6","MSC4039UploadFileAction","uploadFile","_x12","_downloadFile","_callee7","contentUri","_callee7$","_context7","content_uri","MSC4039DownloadFileAction","downloadFile","_x13","start","_this5","MSC2974","actionEv","CustomEvent","cancelable","emit","defaultPrevented","SupportedApiVersions","replyVersions","Capabilities","handleCapabilities","UpdateVisibility","NotifyCapabilities","supported_versions","CurrentApiVersions","_this6","cachedClientVersions","console","warn","_this7","MSC2871","once","approved","EventEmitter"],"sources":["../src/WidgetApi.ts"],"sourcesContent":["/*\n * Copyright 2020 - 2024 The Matrix.org Foundation C.I.C.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EventEmitter } from \"events\";\n\nimport { Capability } from \"./interfaces/Capabilities\";\nimport { IWidgetApiRequest, IWidgetApiRequestEmptyData } from \"./interfaces/IWidgetApiRequest\";\nimport { IWidgetApiAcknowledgeResponseData } from \"./interfaces/IWidgetApiResponse\";\nimport { WidgetApiDirection } from \"./interfaces/WidgetApiDirection\";\nimport {\n    ISupportedVersionsActionRequest,\n    ISupportedVersionsActionResponseData,\n} from \"./interfaces/SupportedVersionsAction\";\nimport { ApiVersion, CurrentApiVersions, UnstableApiVersion } from \"./interfaces/ApiVersion\";\nimport {\n    ICapabilitiesActionRequest,\n    ICapabilitiesActionResponseData,\n    INotifyCapabilitiesActionRequest,\n    IRenegotiateCapabilitiesRequestData,\n} from \"./interfaces/CapabilitiesAction\";\nimport { ITransport } from \"./transport/ITransport\";\nimport { PostmessageTransport } from \"./transport/PostmessageTransport\";\nimport { WidgetApiFromWidgetAction, WidgetApiToWidgetAction } from \"./interfaces/WidgetApiAction\";\nimport { IWidgetApiErrorResponseData, IWidgetApiErrorResponseDataDetails } from \"./interfaces/IWidgetApiErrorResponse\";\nimport { IStickerActionRequestData } from \"./interfaces/StickerAction\";\nimport { IStickyActionRequestData, IStickyActionResponseData } from \"./interfaces/StickyAction\";\nimport {\n    IGetOpenIDActionRequestData,\n    IGetOpenIDActionResponse,\n    IOpenIDCredentials,\n    OpenIDRequestState,\n} from \"./interfaces/GetOpenIDAction\";\nimport { IOpenIDCredentialsActionRequest } from \"./interfaces/OpenIDCredentialsAction\";\nimport { MatrixWidgetType, WidgetType } from \"./interfaces/WidgetType\";\nimport {\n    BuiltInModalButtonID,\n    IModalWidgetCreateData,\n    IModalWidgetOpenRequestData,\n    IModalWidgetOpenRequestDataButton,\n    IModalWidgetReturnData,\n    ModalButtonID,\n} from \"./interfaces/ModalWidgetActions\";\nimport { ISetModalButtonEnabledActionRequestData } from \"./interfaces/SetModalButtonEnabledAction\";\nimport { ISendEventFromWidgetRequestData, ISendEventFromWidgetResponseData } from \"./interfaces/SendEventAction\";\nimport {\n    ISendToDeviceFromWidgetRequestData,\n    ISendToDeviceFromWidgetResponseData,\n} from \"./interfaces/SendToDeviceAction\";\nimport { EventDirection, WidgetEventCapability } from \"./models/WidgetEventCapability\";\nimport { INavigateActionRequestData } from \"./interfaces/NavigateAction\";\nimport { IReadEventFromWidgetRequestData, IReadEventFromWidgetResponseData } from \"./interfaces/ReadEventAction\";\nimport {\n    IReadRoomAccountDataFromWidgetRequestData,\n    IReadRoomAccountDataFromWidgetResponseData,\n} from \"./interfaces/ReadRoomAccountDataAction\";\nimport { IRoomEvent } from \"./interfaces/IRoomEvent\";\nimport { IRoomAccountData } from \"./interfaces/IRoomAccountData\";\nimport { ITurnServer, IUpdateTurnServersRequest } from \"./interfaces/TurnServerActions\";\nimport { Symbols } from \"./Symbols\";\nimport {\n    IReadRelationsFromWidgetRequestData,\n    IReadRelationsFromWidgetResponseData,\n} from \"./interfaces/ReadRelationsAction\";\nimport {\n    IUserDirectorySearchFromWidgetRequestData,\n    IUserDirectorySearchFromWidgetResponseData,\n} from \"./interfaces/UserDirectorySearchAction\";\nimport {\n    IGetMediaConfigActionFromWidgetRequestData,\n    IGetMediaConfigActionFromWidgetResponseData,\n} from \"./interfaces/GetMediaConfigAction\";\nimport {\n    IUploadFileActionFromWidgetRequestData,\n    IUploadFileActionFromWidgetResponseData,\n} from \"./interfaces/UploadFileAction\";\nimport {\n    IDownloadFileActionFromWidgetRequestData,\n    IDownloadFileActionFromWidgetResponseData,\n} from \"./interfaces/DownloadFileAction\";\nimport {\n    IUpdateDelayedEventFromWidgetRequestData,\n    IUpdateDelayedEventFromWidgetResponseData,\n    UpdateDelayedEventAction,\n} from \"./interfaces/UpdateDelayedEventAction\";\n\nexport class WidgetApiResponseError extends Error {\n    static {\n        this.prototype.name = this.name;\n    }\n\n    public constructor(\n        message: string,\n        public readonly data: IWidgetApiErrorResponseDataDetails,\n    ) {\n        super(message);\n    }\n}\n\n/**\n * API handler for widgets. This raises events for each action\n * received as `action:${action}` (eg: \"action:screenshot\").\n * Default handling can be prevented by using preventDefault()\n * on the raised event. The default handling varies for each\n * action: ones which the SDK can handle safely are acknowledged\n * appropriately and ones which are unhandled (custom or require\n * the widget to do something) are rejected with an error.\n *\n * Events which are preventDefault()ed must reply using the\n * transport. The events raised will have a detail of an\n * IWidgetApiRequest interface.\n *\n * When the WidgetApi is ready to start sending requests, it will\n * raise a \"ready\" CustomEvent. After the ready event fires, actions\n * can be sent and the transport will be ready.\n */\nexport class WidgetApi extends EventEmitter {\n    public readonly transport: ITransport;\n\n    private capabilitiesFinished = false;\n    private supportsMSC2974Renegotiate = false;\n    private readonly requestedCapabilities: Capability[] = [];\n    private approvedCapabilities?: Capability[];\n    private cachedClientVersions?: ApiVersion[];\n    private turnServerWatchers = 0;\n\n    /**\n     * Creates a new API handler for the given widget.\n     * @param {string} widgetId The widget ID to listen for. If not supplied then\n     * the API will use the widget ID from the first valid request it receives.\n     * @param {string} clientOrigin The origin of the client, or null if not known.\n     */\n    public constructor(widgetId: string | null = null, clientOrigin: string | null = null) {\n        super();\n        if (!globalThis.parent) {\n            throw new Error(\"No parent window. This widget doesn't appear to be embedded properly.\");\n        }\n        this.transport = new PostmessageTransport(\n            WidgetApiDirection.FromWidget,\n            widgetId,\n            globalThis.parent,\n            globalThis,\n        );\n        this.transport.targetOrigin = clientOrigin;\n        this.transport.on(\"message\", this.handleMessage.bind(this));\n    }\n\n    /**\n     * Determines if the widget was granted a particular capability. Note that on\n     * clients where the capabilities are not fed back to the widget this function\n     * will rely on requested capabilities instead.\n     * @param {Capability} capability The capability to check for approval of.\n     * @returns {boolean} True if the widget has approval for the given capability.\n     */\n    public hasCapability(capability: Capability): boolean {\n        if (Array.isArray(this.approvedCapabilities)) {\n            return this.approvedCapabilities.includes(capability);\n        }\n        return this.requestedCapabilities.includes(capability);\n    }\n\n    /**\n     * Request a capability from the client. It is not guaranteed to be allowed,\n     * but will be asked for.\n     * @param {Capability} capability The capability to request.\n     * @throws Throws if the capabilities negotiation has already started and the\n     * widget is unable to request additional capabilities.\n     */\n    public requestCapability(capability: Capability): void {\n        if (this.capabilitiesFinished && !this.supportsMSC2974Renegotiate) {\n            throw new Error(\"Capabilities have already been negotiated\");\n        }\n\n        this.requestedCapabilities.push(capability);\n    }\n\n    /**\n     * Request capabilities from the client. They are not guaranteed to be allowed,\n     * but will be asked for if the negotiation has not already happened.\n     * @param {Capability[]} capabilities The capabilities to request.\n     * @throws Throws if the capabilities negotiation has already started.\n     */\n    public requestCapabilities(capabilities: Capability[]): void {\n        for (const cap of capabilities) {\n            this.requestCapability(cap);\n        }\n    }\n\n    /**\n     * Requests the capability to interact with rooms other than the user's currently\n     * viewed room. Applies to event receiving and sending.\n     * @param {string | Symbols.AnyRoom} roomId The room ID, or `Symbols.AnyRoom` to\n     * denote all known rooms.\n     */\n    public requestCapabilityForRoomTimeline(roomId: string | Symbols.AnyRoom): void {\n        this.requestCapability(`org.matrix.msc2762.timeline:${roomId}`);\n    }\n\n    /**\n     * Requests the capability to send a given state event with optional explicit\n     * state key. It is not guaranteed to be allowed, but will be asked for if the\n     * negotiation has not already happened.\n     * @param {string} eventType The state event type to ask for.\n     * @param {string} stateKey If specified, the specific state key to request.\n     * Otherwise all state keys will be requested.\n     */\n    public requestCapabilityToSendState(eventType: string, stateKey?: string): void {\n        this.requestCapability(WidgetEventCapability.forStateEvent(EventDirection.Send, eventType, stateKey).raw);\n    }\n\n    /**\n     * Requests the capability to receive a given state event with optional explicit\n     * state key. It is not guaranteed to be allowed, but will be asked for if the\n     * negotiation has not already happened.\n     * @param {string} eventType The state event type to ask for.\n     * @param {string} stateKey If specified, the specific state key to request.\n     * Otherwise all state keys will be requested.\n     */\n    public requestCapabilityToReceiveState(eventType: string, stateKey?: string): void {\n        this.requestCapability(WidgetEventCapability.forStateEvent(EventDirection.Receive, eventType, stateKey).raw);\n    }\n\n    /**\n     * Requests the capability to send a given to-device event. It is not\n     * guaranteed to be allowed, but will be asked for if the negotiation has\n     * not already happened.\n     * @param {string} eventType The room event type to ask for.\n     */\n    public requestCapabilityToSendToDevice(eventType: string): void {\n        this.requestCapability(WidgetEventCapability.forToDeviceEvent(EventDirection.Send, eventType).raw);\n    }\n\n    /**\n     * Requests the capability to receive a given to-device event. It is not\n     * guaranteed to be allowed, but will be asked for if the negotiation has\n     * not already happened.\n     * @param {string} eventType The room event type to ask for.\n     */\n    public requestCapabilityToReceiveToDevice(eventType: string): void {\n        this.requestCapability(WidgetEventCapability.forToDeviceEvent(EventDirection.Receive, eventType).raw);\n    }\n\n    /**\n     * Requests the capability to send a given room event. It is not guaranteed to be\n     * allowed, but will be asked for if the negotiation has not already happened.\n     * @param {string} eventType The room event type to ask for.\n     */\n    public requestCapabilityToSendEvent(eventType: string): void {\n        this.requestCapability(WidgetEventCapability.forRoomEvent(EventDirection.Send, eventType).raw);\n    }\n\n    /**\n     * Requests the capability to receive a given room event. It is not guaranteed to be\n     * allowed, but will be asked for if the negotiation has not already happened.\n     * @param {string} eventType The room event type to ask for.\n     */\n    public requestCapabilityToReceiveEvent(eventType: string): void {\n        this.requestCapability(WidgetEventCapability.forRoomEvent(EventDirection.Receive, eventType).raw);\n    }\n\n    /**\n     * Requests the capability to send a given message event with optional explicit\n     * `msgtype`. It is not guaranteed to be allowed, but will be asked for if the\n     * negotiation has not already happened.\n     * @param {string} msgtype If specified, the specific msgtype to request.\n     * Otherwise all message types will be requested.\n     */\n    public requestCapabilityToSendMessage(msgtype?: string): void {\n        this.requestCapability(WidgetEventCapability.forRoomMessageEvent(EventDirection.Send, msgtype).raw);\n    }\n\n    /**\n     * Requests the capability to receive a given message event with optional explicit\n     * `msgtype`. It is not guaranteed to be allowed, but will be asked for if the\n     * negotiation has not already happened.\n     * @param {string} msgtype If specified, the specific msgtype to request.\n     * Otherwise all message types will be requested.\n     */\n    public requestCapabilityToReceiveMessage(msgtype?: string): void {\n        this.requestCapability(WidgetEventCapability.forRoomMessageEvent(EventDirection.Receive, msgtype).raw);\n    }\n\n    /**\n     * Requests the capability to receive a given item in room account data. It is not guaranteed to be\n     * allowed, but will be asked for if the negotiation has not already happened.\n     * @param {string} eventType The state event type to ask for.\n     */\n    public requestCapabilityToReceiveRoomAccountData(eventType: string): void {\n        this.requestCapability(WidgetEventCapability.forRoomAccountData(EventDirection.Receive, eventType).raw);\n    }\n\n    /**\n     * Requests an OpenID Connect token from the client for the currently logged in\n     * user. This token can be validated server-side with the federation API. Note\n     * that the widget is responsible for validating the token and caching any results\n     * it needs.\n     * @returns {Promise<IOpenIDCredentials>} Resolves to a token for verification.\n     * @throws Throws if the user rejected the request or the request failed.\n     */\n    public requestOpenIDConnectToken(): Promise<IOpenIDCredentials> {\n        return new Promise<IOpenIDCredentials>((resolve, reject) => {\n            this.transport\n                .sendComplete<IGetOpenIDActionRequestData, IGetOpenIDActionResponse>(\n                    WidgetApiFromWidgetAction.GetOpenIDCredentials,\n                    {},\n                )\n                .then((response) => {\n                    const rdata = response.response;\n                    if (rdata.state === OpenIDRequestState.Allowed) {\n                        resolve(rdata);\n                    } else if (rdata.state === OpenIDRequestState.Blocked) {\n                        reject(new Error(\"User declined to verify their identity\"));\n                    } else if (rdata.state === OpenIDRequestState.PendingUserConfirmation) {\n                        const handlerFn = (ev: CustomEvent<IOpenIDCredentialsActionRequest>): void => {\n                            ev.preventDefault();\n                            const request = ev.detail;\n                            if (request.data.original_request_id !== response.requestId) return;\n                            if (request.data.state === OpenIDRequestState.Allowed) {\n                                resolve(request.data);\n                                this.transport.reply(request, <IWidgetApiRequestEmptyData>{}); // ack\n                            } else if (request.data.state === OpenIDRequestState.Blocked) {\n                                reject(new Error(\"User declined to verify their identity\"));\n                                this.transport.reply(request, <IWidgetApiRequestEmptyData>{}); // ack\n                            } else {\n                                reject(new Error(\"Invalid state on reply: \" + rdata.state));\n                                this.transport.reply(request, <IWidgetApiErrorResponseData>{\n                                    error: {\n                                        message: \"Invalid state\",\n                                    },\n                                });\n                            }\n                            this.off(`action:${WidgetApiToWidgetAction.OpenIDCredentials}`, handlerFn);\n                        };\n                        this.on(`action:${WidgetApiToWidgetAction.OpenIDCredentials}`, handlerFn);\n                    } else {\n                        reject(new Error(\"Invalid state: \" + rdata.state));\n                    }\n                })\n                .catch(reject);\n        });\n    }\n\n    /**\n     * Asks the client for additional capabilities. Capabilities can be queued for this\n     * request with the requestCapability() functions.\n     * @returns {Promise<void>} Resolves when complete. Note that the promise resolves when\n     * the capabilities request has gone through, not when the capabilities are approved/denied.\n     * Use the WidgetApiToWidgetAction.NotifyCapabilities action to detect changes.\n     */\n    public updateRequestedCapabilities(): Promise<void> {\n        return this.transport\n            .send(WidgetApiFromWidgetAction.MSC2974RenegotiateCapabilities, <IRenegotiateCapabilitiesRequestData>{\n                capabilities: this.requestedCapabilities,\n            })\n            .then();\n    }\n\n    /**\n     * Tell the client that the content has been loaded.\n     * @returns {Promise} Resolves when the client acknowledges the request.\n     */\n    public sendContentLoaded(): Promise<void> {\n        return this.transport.send(WidgetApiFromWidgetAction.ContentLoaded, <IWidgetApiRequestEmptyData>{}).then();\n    }\n\n    /**\n     * Sends a sticker to the client.\n     * @param {IStickerActionRequestData} sticker The sticker to send.\n     * @returns {Promise} Resolves when the client acknowledges the request.\n     */\n    public sendSticker(sticker: IStickerActionRequestData): Promise<void> {\n        return this.transport.send(WidgetApiFromWidgetAction.SendSticker, sticker).then();\n    }\n\n    /**\n     * Asks the client to set the always-on-screen status for this widget.\n     * @param {boolean} value The new state to request.\n     * @returns {Promise<boolean>} Resolve with true if the client was able to fulfill\n     * the request, resolves to false otherwise. Rejects if an error occurred.\n     */\n    public setAlwaysOnScreen(value: boolean): Promise<boolean> {\n        return this.transport\n            .send<\n                IStickyActionRequestData,\n                IStickyActionResponseData\n            >(WidgetApiFromWidgetAction.UpdateAlwaysOnScreen, { value })\n            .then((res) => res.success);\n    }\n\n    /**\n     * Opens a modal widget.\n     * @param {string} url The URL to the modal widget.\n     * @param {string} name The name of the widget.\n     * @param {IModalWidgetOpenRequestDataButton[]} buttons The buttons to have on the widget.\n     * @param {IModalWidgetCreateData} data Data to supply to the modal widget.\n     * @param {WidgetType} type The type of modal widget.\n     * @returns {Promise<void>} Resolves when the modal widget has been opened.\n     */\n    public openModalWidget(\n        url: string,\n        name: string,\n        buttons: IModalWidgetOpenRequestDataButton[] = [],\n        data: IModalWidgetCreateData = {},\n        type: WidgetType = MatrixWidgetType.Custom,\n    ): Promise<void> {\n        return this.transport\n            .send<IModalWidgetOpenRequestData>(WidgetApiFromWidgetAction.OpenModalWidget, {\n                type,\n                url,\n                name,\n                buttons,\n                data,\n            })\n            .then();\n    }\n\n    /**\n     * Closes the modal widget. The widget's session will be terminated shortly after.\n     * @param {IModalWidgetReturnData} data Optional data to close the modal widget with.\n     * @returns {Promise<void>} Resolves when complete.\n     */\n    public closeModalWidget(data: IModalWidgetReturnData = {}): Promise<void> {\n        return this.transport.send<IModalWidgetReturnData>(WidgetApiFromWidgetAction.CloseModalWidget, data).then();\n    }\n\n    public sendRoomEvent(\n        eventType: string,\n        content: unknown,\n        roomId?: string,\n        delay?: number,\n        parentDelayId?: string,\n        stickyDurationMs?: number,\n    ): Promise<ISendEventFromWidgetResponseData> {\n        return this.sendEvent(eventType, undefined, content, roomId, delay, parentDelayId, stickyDurationMs);\n    }\n\n    public sendStateEvent(\n        eventType: string,\n        stateKey: string,\n        content: unknown,\n        roomId?: string,\n        delay?: number,\n        parentDelayId?: string,\n    ): Promise<ISendEventFromWidgetResponseData> {\n        return this.sendEvent(eventType, stateKey, content, roomId, delay, parentDelayId);\n    }\n\n    private sendEvent(\n        eventType: string,\n        stateKey: string | undefined,\n        content: unknown,\n        roomId?: string,\n        delay?: number,\n        parentDelayId?: string,\n        stickyDurationMs?: number,\n    ): Promise<ISendEventFromWidgetResponseData> {\n        return this.transport.send<ISendEventFromWidgetRequestData, ISendEventFromWidgetResponseData>(\n            WidgetApiFromWidgetAction.SendEvent,\n            {\n                type: eventType,\n                content,\n                ...(stateKey !== undefined && { state_key: stateKey }),\n                ...(roomId !== undefined && { room_id: roomId }),\n                ...(delay !== undefined && { delay }),\n                ...(parentDelayId !== undefined && { parent_delay_id: parentDelayId }),\n                ...(stickyDurationMs !== undefined && { sticky_duration_ms: stickyDurationMs }),\n            },\n        );\n    }\n\n    /**\n     * @experimental This currently relies on an unstable MSC (MSC4157).\n     */\n    public cancelScheduledDelayedEvent(delayId: string): Promise<IUpdateDelayedEventFromWidgetResponseData> {\n        return this.transport.send<IUpdateDelayedEventFromWidgetRequestData, IUpdateDelayedEventFromWidgetResponseData>(\n            WidgetApiFromWidgetAction.MSC4157UpdateDelayedEvent,\n            {\n                delay_id: delayId,\n                action: UpdateDelayedEventAction.Cancel,\n            },\n        );\n    }\n\n    /**\n     * @experimental This currently relies on an unstable MSC (MSC4157).\n     */\n    public restartScheduledDelayedEvent(delayId: string): Promise<IUpdateDelayedEventFromWidgetResponseData> {\n        return this.transport.send<IUpdateDelayedEventFromWidgetRequestData, IUpdateDelayedEventFromWidgetResponseData>(\n            WidgetApiFromWidgetAction.MSC4157UpdateDelayedEvent,\n            {\n                delay_id: delayId,\n                action: UpdateDelayedEventAction.Restart,\n            },\n        );\n    }\n\n    /**\n     * @experimental This currently relies on an unstable MSC (MSC4157).\n     */\n    public sendScheduledDelayedEvent(delayId: string): Promise<IUpdateDelayedEventFromWidgetResponseData> {\n        return this.transport.send<IUpdateDelayedEventFromWidgetRequestData, IUpdateDelayedEventFromWidgetResponseData>(\n            WidgetApiFromWidgetAction.MSC4157UpdateDelayedEvent,\n            {\n                delay_id: delayId,\n                action: UpdateDelayedEventAction.Send,\n            },\n        );\n    }\n\n    /**\n     * Sends a to-device event.\n     * @param {string} eventType The type of events being sent.\n     * @param {boolean} encrypted Whether to encrypt the message contents.\n     * @param {Object} contentMap A map from user IDs to device IDs to message contents.\n     * @returns {Promise<ISendToDeviceFromWidgetResponseData>} Resolves when complete.\n     */\n    public sendToDevice(\n        eventType: string,\n        encrypted: boolean,\n        contentMap: { [userId: string]: { [deviceId: string]: object } },\n    ): Promise<ISendToDeviceFromWidgetResponseData> {\n        return this.transport.send<ISendToDeviceFromWidgetRequestData, ISendToDeviceFromWidgetResponseData>(\n            WidgetApiFromWidgetAction.SendToDevice,\n            { type: eventType, encrypted, messages: contentMap },\n        );\n    }\n\n    public readRoomAccountData(eventType: string, roomIds?: (string | Symbols.AnyRoom)[]): Promise<IRoomAccountData[]> {\n        const data: IReadEventFromWidgetRequestData = { type: eventType };\n\n        if (roomIds) {\n            if (roomIds.includes(Symbols.AnyRoom)) {\n                data.room_ids = Symbols.AnyRoom;\n            } else {\n                data.room_ids = roomIds;\n            }\n        }\n        return this.transport\n            .send<\n                IReadRoomAccountDataFromWidgetRequestData,\n                IReadRoomAccountDataFromWidgetResponseData\n            >(WidgetApiFromWidgetAction.BeeperReadRoomAccountData, data)\n            .then((r) => r.events);\n    }\n\n    public readRoomEvents(\n        eventType: string,\n        limit?: number,\n        msgtype?: string,\n        roomIds?: (string | Symbols.AnyRoom)[],\n        since?: string | undefined,\n    ): Promise<IRoomEvent[]> {\n        const data: IReadEventFromWidgetRequestData = { type: eventType, msgtype: msgtype };\n        if (limit !== undefined) {\n            data.limit = limit;\n        }\n        if (roomIds) {\n            if (roomIds.includes(Symbols.AnyRoom)) {\n                data.room_ids = Symbols.AnyRoom;\n            } else {\n                data.room_ids = roomIds;\n            }\n        }\n        if (since) {\n            data.since = since;\n        }\n        return this.transport\n            .send<\n                IReadEventFromWidgetRequestData,\n                IReadEventFromWidgetResponseData\n            >(WidgetApiFromWidgetAction.MSC2876ReadEvents, data)\n            .then((r) => r.events);\n    }\n\n    /**\n     * Reads all related events given a known eventId.\n     * @param eventId The id of the parent event to be read.\n     * @param roomId The room to look within. When undefined, the user's currently\n     * viewed room.\n     * @param relationType The relationship type of child events to search for.\n     * When undefined, all relations are returned.\n     * @param eventType The event type of child events to search for. When undefined,\n     * all related events are returned.\n     * @param limit The maximum number of events to retrieve per room. If not\n     * supplied, the server will apply a default limit.\n     * @param from The pagination token to start returning results from, as\n     * received from a previous call. If not supplied, results start at the most\n     * recent topological event known to the server.\n     * @param to The pagination token to stop returning results at. If not\n     * supplied, results continue up to limit or until there are no more events.\n     * @param direction The direction to search for according to MSC3715.\n     * @returns Resolves to the room relations.\n     */\n    public async readEventRelations(\n        eventId: string,\n        roomId?: string,\n        relationType?: string,\n        eventType?: string,\n        limit?: number,\n        from?: string,\n        to?: string,\n        direction?: \"f\" | \"b\",\n    ): Promise<IReadRelationsFromWidgetResponseData> {\n        const versions = await this.getClientVersions();\n        if (!versions.includes(UnstableApiVersion.MSC3869)) {\n            throw new Error(\"The read_relations action is not supported by the client.\");\n        }\n\n        const data: IReadRelationsFromWidgetRequestData = {\n            event_id: eventId,\n            rel_type: relationType,\n            event_type: eventType,\n            room_id: roomId,\n            to,\n            from,\n            limit,\n            direction,\n        };\n\n        return this.transport.send<IReadRelationsFromWidgetRequestData, IReadRelationsFromWidgetResponseData>(\n            WidgetApiFromWidgetAction.MSC3869ReadRelations,\n            data,\n        );\n    }\n\n    public readStateEvents(\n        eventType: string,\n        limit?: number,\n        stateKey?: string,\n        roomIds?: (string | Symbols.AnyRoom)[],\n    ): Promise<IRoomEvent[]> {\n        const data: IReadEventFromWidgetRequestData = {\n            type: eventType,\n            state_key: stateKey === undefined ? true : stateKey,\n        };\n        if (limit !== undefined) {\n            data.limit = limit;\n        }\n        if (roomIds) {\n            if (roomIds.includes(Symbols.AnyRoom)) {\n                data.room_ids = Symbols.AnyRoom;\n            } else {\n                data.room_ids = roomIds;\n            }\n        }\n        return this.transport\n            .send<\n                IReadEventFromWidgetRequestData,\n                IReadEventFromWidgetResponseData\n            >(WidgetApiFromWidgetAction.MSC2876ReadEvents, data)\n            .then((r) => r.events);\n    }\n\n    /**\n     * Sets a button as disabled or enabled on the modal widget. Buttons are enabled by default.\n     * @param {ModalButtonID} buttonId The button ID to enable/disable.\n     * @param {boolean} isEnabled Whether or not the button is enabled.\n     * @returns {Promise<void>} Resolves when complete.\n     * @throws Throws if the button cannot be disabled, or the client refuses to disable the button.\n     */\n    public setModalButtonEnabled(buttonId: ModalButtonID, isEnabled: boolean): Promise<void> {\n        if (buttonId === BuiltInModalButtonID.Close) {\n            throw new Error(\"The close button cannot be disabled\");\n        }\n        return this.transport\n            .send<ISetModalButtonEnabledActionRequestData>(WidgetApiFromWidgetAction.SetModalButtonEnabled, {\n                button: buttonId,\n                enabled: isEnabled,\n            })\n            .then();\n    }\n\n    /**\n     * Attempts to navigate the client to the given URI. This can only be called with Matrix URIs\n     * (currently only matrix.to, but in future a Matrix URI scheme will be defined).\n     * @param {string} uri The URI to navigate to.\n     * @returns {Promise<void>} Resolves when complete.\n     * @throws Throws if the URI is invalid or cannot be processed.\n     * @experimental This currently relies on an unstable MSC (MSC2931).\n     */\n    public navigateTo(uri: string): Promise<void> {\n        if (!uri || !uri.startsWith(\"https://matrix.to/#\")) {\n            throw new Error(\"Invalid matrix.to URI\");\n        }\n\n        return this.transport\n            .send<INavigateActionRequestData>(WidgetApiFromWidgetAction.MSC2931Navigate, { uri })\n            .then();\n    }\n\n    /**\n     * Starts watching for TURN servers, yielding an initial set of credentials as soon as possible,\n     * and thereafter yielding new credentials whenever the previous ones expire.\n     * @yields {ITurnServer} The TURN server URIs and credentials currently available to the widget.\n     */\n    public async *getTurnServers(): AsyncGenerator<ITurnServer> {\n        let setTurnServer: (server: ITurnServer) => void;\n\n        const onUpdateTurnServers = async (ev: CustomEvent<IUpdateTurnServersRequest>): Promise<void> => {\n            ev.preventDefault();\n            setTurnServer(ev.detail.data);\n            this.transport.reply<IWidgetApiAcknowledgeResponseData>(ev.detail, {});\n        };\n\n        // Start listening for updates before we even start watching, to catch\n        // TURN data that is sent immediately\n        this.on(`action:${WidgetApiToWidgetAction.UpdateTurnServers}`, onUpdateTurnServers);\n\n        // Only send the 'watch' action if we aren't already watching\n        if (this.turnServerWatchers === 0) {\n            try {\n                await this.transport.send<IWidgetApiRequestEmptyData>(WidgetApiFromWidgetAction.WatchTurnServers, {});\n            } catch (e) {\n                this.off(`action:${WidgetApiToWidgetAction.UpdateTurnServers}`, onUpdateTurnServers);\n                throw e;\n            }\n        }\n        this.turnServerWatchers++;\n\n        try {\n            // Watch for new data indefinitely (until this generator's return method is called)\n            while (true) {\n                yield await new Promise<ITurnServer>((resolve) => (setTurnServer = resolve));\n            }\n        } finally {\n            // The loop was broken by the caller - clean up\n            this.off(`action:${WidgetApiToWidgetAction.UpdateTurnServers}`, onUpdateTurnServers);\n\n            // Since sending the 'unwatch' action will end updates for all other\n            // consumers, only send it if we're the only consumer remaining\n            this.turnServerWatchers--;\n            if (this.turnServerWatchers === 0) {\n                await this.transport.send<IWidgetApiRequestEmptyData>(WidgetApiFromWidgetAction.UnwatchTurnServers, {});\n            }\n        }\n    }\n\n    /**\n     * Search for users in the user directory.\n     * @param searchTerm The term to search for.\n     * @param limit The maximum number of results to return. If not supplied, the\n     * @returns Resolves to the search results.\n     */\n    public async searchUserDirectory(\n        searchTerm: string,\n        limit?: number,\n    ): Promise<IUserDirectorySearchFromWidgetResponseData> {\n        const versions = await this.getClientVersions();\n        if (!versions.includes(UnstableApiVersion.MSC3973)) {\n            throw new Error(\"The user_directory_search action is not supported by the client.\");\n        }\n\n        const data: IUserDirectorySearchFromWidgetRequestData = {\n            search_term: searchTerm,\n            limit,\n        };\n\n        return this.transport.send<\n            IUserDirectorySearchFromWidgetRequestData,\n            IUserDirectorySearchFromWidgetResponseData\n        >(WidgetApiFromWidgetAction.MSC3973UserDirectorySearch, data);\n    }\n\n    /**\n     * Get the config for the media repository.\n     * @returns Promise which resolves with an object containing the config.\n     */\n    public async getMediaConfig(): Promise<IGetMediaConfigActionFromWidgetResponseData> {\n        const versions = await this.getClientVersions();\n        if (!versions.includes(UnstableApiVersion.MSC4039)) {\n            throw new Error(\"The get_media_config action is not supported by the client.\");\n        }\n\n        const data: IGetMediaConfigActionFromWidgetRequestData = {};\n\n        return this.transport.send<\n            IGetMediaConfigActionFromWidgetRequestData,\n            IGetMediaConfigActionFromWidgetResponseData\n        >(WidgetApiFromWidgetAction.MSC4039GetMediaConfigAction, data);\n    }\n\n    /**\n     * Upload a file to the media repository on the homeserver.\n     * @param file - The object to upload. Something that can be sent to\n     *               XMLHttpRequest.send (typically a File).\n     * @returns Resolves to the location of the uploaded file.\n     */\n    public async uploadFile(file: XMLHttpRequestBodyInit): Promise<IUploadFileActionFromWidgetResponseData> {\n        const versions = await this.getClientVersions();\n        if (!versions.includes(UnstableApiVersion.MSC4039)) {\n            throw new Error(\"The upload_file action is not supported by the client.\");\n        }\n\n        const data: IUploadFileActionFromWidgetRequestData = {\n            file,\n        };\n\n        return this.transport.send<IUploadFileActionFromWidgetRequestData, IUploadFileActionFromWidgetResponseData>(\n            WidgetApiFromWidgetAction.MSC4039UploadFileAction,\n            data,\n        );\n    }\n\n    /**\n     * Download a file from the media repository on the homeserver.\n     * @param contentUri - MXC URI of the file to download.\n     * @returns Resolves to the contents of the file.\n     */\n    public async downloadFile(contentUri: string): Promise<IDownloadFileActionFromWidgetResponseData> {\n        const versions = await this.getClientVersions();\n        if (!versions.includes(UnstableApiVersion.MSC4039)) {\n            throw new Error(\"The download_file action is not supported by the client.\");\n        }\n\n        const data: IDownloadFileActionFromWidgetRequestData = {\n            content_uri: contentUri,\n        };\n\n        return this.transport.send<IDownloadFileActionFromWidgetRequestData, IDownloadFileActionFromWidgetResponseData>(\n            WidgetApiFromWidgetAction.MSC4039DownloadFileAction,\n            data,\n        );\n    }\n\n    /**\n     * Starts the communication channel. This should be done early to ensure\n     * that messages are not missed. Communication can only be stopped by the client.\n     */\n    public start(): void {\n        this.transport.start();\n        this.getClientVersions().then((v) => {\n            if (v.includes(UnstableApiVersion.MSC2974)) {\n                this.supportsMSC2974Renegotiate = true;\n            }\n        });\n    }\n\n    private handleMessage(ev: CustomEvent<IWidgetApiRequest>): void | Promise<void> {\n        const actionEv = new CustomEvent(`action:${ev.detail.action}`, {\n            detail: ev.detail,\n            cancelable: true,\n        });\n        this.emit(`action:${ev.detail.action}`, actionEv);\n        if (!actionEv.defaultPrevented) {\n            switch (ev.detail.action) {\n                case WidgetApiToWidgetAction.SupportedApiVersions:\n                    return this.replyVersions(<ISupportedVersionsActionRequest>ev.detail);\n                case WidgetApiToWidgetAction.Capabilities:\n                    return this.handleCapabilities(<ICapabilitiesActionRequest>ev.detail);\n                case WidgetApiToWidgetAction.UpdateVisibility:\n                    return this.transport.reply(ev.detail, <IWidgetApiRequestEmptyData>{}); // ack to avoid error spam\n                case WidgetApiToWidgetAction.NotifyCapabilities:\n                    return this.transport.reply(ev.detail, <IWidgetApiRequestEmptyData>{}); // ack to avoid error spam\n                default:\n                    return this.transport.reply(ev.detail, <IWidgetApiErrorResponseData>{\n                        error: {\n                            message: \"Unknown or unsupported action: \" + ev.detail.action,\n                        },\n                    });\n            }\n        }\n    }\n\n    private replyVersions(request: ISupportedVersionsActionRequest): void {\n        this.transport.reply<ISupportedVersionsActionResponseData>(request, {\n            supported_versions: CurrentApiVersions,\n        });\n    }\n\n    public getClientVersions(): Promise<ApiVersion[]> {\n        if (Array.isArray(this.cachedClientVersions)) {\n            return Promise.resolve(this.cachedClientVersions);\n        }\n\n        return this.transport\n            .send<IWidgetApiRequestEmptyData, ISupportedVersionsActionResponseData>(\n                WidgetApiFromWidgetAction.SupportedApiVersions,\n                {},\n            )\n            .then((r) => {\n                this.cachedClientVersions = r.supported_versions;\n                return r.supported_versions;\n            })\n            .catch((e) => {\n                console.warn(\"non-fatal error getting supported client versions: \", e);\n                return [];\n            });\n    }\n\n    private handleCapabilities(request: ICapabilitiesActionRequest): void | Promise<void> {\n        if (this.capabilitiesFinished) {\n            return this.transport.reply<IWidgetApiErrorResponseData>(request, {\n                error: {\n                    message: \"Capability negotiation already completed\",\n                },\n            });\n        }\n\n        // See if we can expect a capabilities notification or not\n        return this.getClientVersions().then((v) => {\n            if (v.includes(UnstableApiVersion.MSC2871)) {\n                this.once(\n                    `action:${WidgetApiToWidgetAction.NotifyCapabilities}`,\n                    (ev: CustomEvent<INotifyCapabilitiesActionRequest>) => {\n                        this.approvedCapabilities = ev.detail.data.approved;\n                        this.emit(\"ready\");\n                    },\n                );\n            } else {\n                // if we can't expect notification, we're as done as we can be\n                this.emit(\"ready\");\n            }\n\n            // in either case, reply to that capabilities request\n            this.capabilitiesFinished = true;\n            return this.transport.reply<ICapabilitiesActionResponseData>(request, {\n                capabilities: this.requestedCapabilities,\n            });\n        });\n    }\n}\n"],"mappings":"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"}